{"version":3,"file":"static/js/211.216fd85d.chunk.js","mappings":"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","sources":["constants/routes.tsx","helpers/routes.tsx","helpers/crypto.tsx","routes/login/Index.tsx","routes/login/Middleware.tsx","routes/auth/note/notes/components/Toolbar.tsx","routes/auth/note/notes/components/ItemComponent.tsx","routes/auth/note/notes/Index.tsx","routes/auth/note/editor/components/Editor.tsx","routes/auth/note/editor/components/Index.tsx","routes/auth/note/editor/components/Toolbar.tsx","routes/auth/note/editor/Index.tsx","routes/auth/note/Index.tsx","routes/auth/Index.tsx","routes/auth/Middleware.tsx","routes/Index.tsx"],"sourcesContent":["const config = {\n  LOGIN: '/login',\n  AUTHENTICATE: {\n    PREFIX: 'users',\n    NOTES: '/notes',\n  },\n  HOME: '/',\n};\nexport default config;\n","import RoutesConstants from '~src/constants/routes';\n\nconst getNotesRoute = () => {\n  return `/${RoutesConstants.AUTHENTICATE.PREFIX}${RoutesConstants.AUTHENTICATE.NOTES}`;\n};\n\nconst getLoginRoute = () => {\n  return `${RoutesConstants.LOGIN}`;\n};\n\nexport default {\n  getNotesRoute,\n  getLoginRoute,\n};\n","import Crypto from 'crypto-browserify';\nimport EnvHelper from '~src/helpers/env';\nimport ConfigConstants from '~src/constants/config';\n\nconst hash = (str: string) => {\n  const hashValue = Crypto.pbkdf2Sync(\n    str,\n    EnvHelper.getValue(ConfigConstants.REACT_APP_SALT),\n    2048,\n    32,\n    'sha512',\n  ).toString('hex');\n  return hashValue;\n};\n\nexport default {\n  hash,\n};\n","import React from 'react';\nimport { login } from '~src/routes/login/actions/Actions';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport './css/login.scss';\nimport CryptoHelper from '~src/helpers/crypto';\nimport RoutesHelper from '~src/helpers/routes';\n\nconst Index = ({}) => {\n  const dispatch = useDispatch<any>();\n  const navigate = useNavigate();\n  const onSubmit = async (e: any) => {\n    e.preventDefault();\n    const { user_name, password } = document.forms[0];\n    const userNameVal = user_name.value;\n    const passwordVal = password.value;\n    const passwordHash = CryptoHelper.hash(passwordVal);\n    const data = await dispatch(\n      await login({ user_name: userNameVal, password: passwordHash }),\n    );\n    if (data.error) {\n      alert(data.error.message);\n      return;\n    }\n    navigate(RoutesHelper.getNotesRoute());\n  };\n\n  return (\n    <div className=\"login\">\n      <form className=\"form\" onSubmit={onSubmit}>\n        <input\n          className=\"input-user-name\"\n          name={'user_name'}\n          placeholder=\"user name\"\n          required={true}\n        />\n        <input\n          className=\"input-password\"\n          name={'password'}\n          type={'password'}\n          placeholder=\"password\"\n          required={true}\n        />\n        <button type={'submit'}>Login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default Index;\n","import React, { useEffect } from 'react';\nimport RoutesHelper from '~src/helpers/routes';\nimport { RootStateType } from '~src/RootReducer';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport Login from './Index';\n\nconst Index = ({}) => {\n  const isLogged = useSelector(\n    (state: RootStateType) => state.loginReducer.isLogged,\n  );\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!isLogged) {\n      return;\n    }\n    navigate(RoutesHelper.getNotesRoute());\n  }, []);\n\n  return !isLogged ? <Login /> : null;\n};\n\nexport default Index;\n","import React from 'react';\nimport { MdDeleteOutline } from 'react-icons/md';\nimport { IoCreateOutline } from 'react-icons/io5';\nimport {\n  deleteNote,\n  createNote,\n} from '~src/routes/auth/note/notes/actions/Actions';\nimport { NOTE_DEFAULT } from '~src/routes/auth/note/notes/actions/Reducer';\nimport { RootStateType } from '~src/RootReducer';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst Index = () => {\n  const dispatch = useDispatch<any>();\n  const notes = useSelector((state: RootStateType) => state.notesReducer.notes);\n  const currentNoteId = useSelector(\n    (state: RootStateType) => state.notesReducer.currentNote?._id,\n  );\n\n  const onClickDelete = () => {\n    dispatch(deleteNote(currentNoteId));\n  };\n\n  const onClickCreate = () => {\n    const data = NOTE_DEFAULT;\n    dispatch(createNote(data));\n  };\n\n  const clsEmpty = notes.length === 0 ? 'notes-delete-empty' : '';\n\n  return (\n    <div className=\"notes-toolbar-container\">\n      <MdDeleteOutline\n        onClick={onClickDelete}\n        className={`notes-cursor ${clsEmpty}`}\n        aria-disabled={true}\n      />\n      <IoCreateOutline onClick={onClickCreate} className=\"notes-cursor\" />\n    </div>\n  );\n};\nexport default Index;\n","import React, { useCallback } from 'react';\nimport { NoteType } from '../actions/ActionTypes';\nimport { useDispatch } from 'react-redux';\nimport { selectNote } from '../actions/Actions';\nimport { useSelector } from 'react-redux';\nimport { RootStateType } from '~src/RootReducer';\n\ntype ItemType = {\n  item: NoteType;\n};\n\nconst ItemComponent = ({ item }: ItemType) => {\n  const dispatch = useDispatch();\n  const currentNote = useSelector(\n    (state: RootStateType) => state.notesReducer.currentNote,\n  );\n\n  const { text, created_at, title, _id, updated_at: updatedAt } = item;\n\n  const onClickItem = useCallback(() => {\n    dispatch(selectNote(item));\n  }, [_id, updatedAt]);\n\n  const formatStr = (str) => {\n    const maxLength = 25;\n    if (str.length > maxLength) {\n      return `${str.substring(0, maxLength)}...`;\n    }\n    return str;\n  };\n  const clsActive = currentNote?._id === _id ? 'active' : '';\n  return (\n    <div\n      className={`notes-items notes-cursor ${clsActive}`}\n      onClick={onClickItem}\n    >\n      <h4 className=\"notes-margin-0 notes-ff\">{formatStr(title)}</h4>\n      <div className=\"notes-body\">\n        <span className=\"notes-margin-0\">{created_at}</span>\n        <span className=\"notes-margin-0 notes-ml-10 notes-cl-gray\">\n          {formatStr(text)}\n        </span>\n      </div>\n    </div>\n  );\n};\nexport default ItemComponent;\n","import React, { useEffect } from 'react';\nimport './css/NoteStyles.scss';\nimport Toolbar from './components/Toolbar';\nimport ItemComponent from './components/ItemComponent';\nimport { useSelector } from 'react-redux';\nimport { RootStateType } from '~src/RootReducer';\nimport { getNotes } from '~src/routes/auth/note/notes/actions/Actions';\nimport { useDispatch } from 'react-redux';\n\nconst Index = ({}) => {\n  const dispatch = useDispatch<any>();\n  useEffect(() => {\n    dispatch(getNotes());\n  }, []);\n  const notes = useSelector((state: RootStateType) => state.notesReducer.notes);\n\n  return (\n    <div className=\"notes-wrapper\">\n      <div className=\"\">\n        <Toolbar />\n      </div>\n      <div className=\"notes-container\">\n        <div>\n          {notes.map((item) => (\n            <ItemComponent key={item._id} item={item} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Index;\n","import React, { useCallback } from 'react';\nimport { EditorState, RichUtils } from 'draft-js';\nimport Editor from '@draft-js-plugins/editor';\nimport 'draft-js/dist/Draft.css';\nimport '@draft-js-plugins/image/lib/plugin.css';\nimport createImagePlugin from '@draft-js-plugins/image';\n\ntype IndexType = {\n  id: string;\n  editorState: EditorState;\n  onChange: (editState: EditorState) => void;\n};\nconst imagePlugin = createImagePlugin();\nconst HEADING = 'header-one';\nconst Index = ({ id, editorState, onChange }: IndexType) => {\n  const onChangeEditor = useCallback(\n    (newState: EditorState) => {\n      if (\n        newState.getCurrentContent().equals(editorState.getCurrentContent())\n      ) {\n        return;\n      }\n      onChange(forceFirstLine(newState));\n    },\n    [id],\n  );\n\n  const forceFirstLine = (editState: EditorState) => {\n    const currentContent = editState.getCurrentContent();\n    const firstBlockKey = currentContent.getBlockMap().first().getKey();\n    const currentBlockKey = editState.getSelection().getAnchorKey();\n    const isFirstBlock = currentBlockKey === firstBlockKey;\n    const currentBlockType = RichUtils.getCurrentBlockType(editState);\n    const isHeading = currentBlockType === HEADING;\n    if (isFirstBlock !== isHeading) {\n      return RichUtils.toggleBlockType(editState, HEADING);\n    }\n    return editState;\n  };\n\n  return (\n    <Editor\n      editorState={editorState}\n      onChange={onChangeEditor}\n      plugins={[imagePlugin]}\n    />\n  );\n};\n\nexport default Index;\n","import React, { useEffect } from 'react';\nimport { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\nimport Editor from '~src/routes/auth/note/editor/components/Editor';\n\nimport { useDispatch } from 'react-redux';\nimport debounce from 'lodash.debounce';\nimport { updateNote } from '~src/routes/auth/note/notes/actions/Actions';\nimport { NOTE_DEFAULT } from '~src/routes/auth/note/notes/actions/Reducer';\nimport { NoteType } from 'src/routes/auth/note/notes/actions/ActionTypes';\n\ntype IndexType = {\n  editorState: EditorState;\n  currentNote: NoteType;\n  onChangeEditor: (editState: EditorState) => void;\n};\n\nconst Index = ({ editorState, currentNote, onChangeEditor }: IndexType) => {\n  const _id = currentNote._id;\n  const dispatch = useDispatch<any>();\n\n  useEffect(() => {\n    if (!currentNote.content) {\n      onChangeEditor(EditorState.createEmpty());\n      return;\n    }\n    const content = EditorState.createWithContent(\n      convertFromRaw(JSON.parse(currentNote.content)),\n    );\n    onChangeEditor(content);\n  }, [_id]);\n\n  const onChange = (editState: EditorState) => {\n    apiCreateNote(editState);\n    onChangeEditor(editState);\n  };\n\n  const apiCreateNote = debounce((editState: EditorState) => {\n    const data = getDataOfCreateNote(editState);\n    dispatch(updateNote(data));\n  }, 100);\n\n  const getDataOfCreateNote = (editState: EditorState) => {\n    const currentContent = convertToRaw(editState.getCurrentContent());\n    if (!currentContent || currentContent.blocks.length === 0) {\n      return null;\n    }\n    const title = currentContent.blocks[0].text || NOTE_DEFAULT.title;\n    const text = currentContent.blocks[1]?.text || NOTE_DEFAULT.text;\n    return {\n      title,\n      text,\n      content: JSON.stringify(currentContent),\n      _id,\n    };\n  };\n\n  return (\n    <>\n      <label className=\"editor-lbl-created-at\">{currentNote?.updated_at}</label>\n      <div className=\"editor-wrap-draftjs\">\n        <Editor id={_id} editorState={editorState} onChange={onChange} />\n      </div>\n    </>\n  );\n};\n\nexport default Index;\n","import React from 'react';\nimport { BsImage } from 'react-icons/bs';\nimport { EditorState, AtomicBlockUtils } from 'draft-js';\nimport { logout } from '~src/routes/login/actions/Actions';\nimport RoutesHelper from '~src/helpers/routes';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\ntype IndexType = {\n  onChangeEditor: (editState: EditorState) => void;\n  editorState: EditorState;\n};\nconst Index = ({ editorState, onChangeEditor }: IndexType) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const onChangeImage = (e) => {\n    getImage(e, (result) => {\n      const newEditorState = insertImage(editorState, result);\n      onChangeEditor(newEditorState);\n    });\n  };\n\n  const getImage = (e, cb) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.target.files.length === 0) {\n      return;\n    }\n    const file = e.target.files[0];\n    getBase64(file, (result) => {\n      cb(result);\n    });\n  };\n\n  const getBase64 = async (file, cb) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      cb(reader.result);\n    };\n    reader.onerror = (error) => {\n      return error;\n    };\n  };\n\n  const insertImage = (editState, base64) => {\n    const contentState = editState.getCurrentContent();\n    const contentStateWithEntity = contentState.createEntity(\n      'image',\n      'IMMUTABLE',\n      { src: base64 },\n    );\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n    const newEditorState = EditorState.set(editState, {\n      currentContent: contentStateWithEntity,\n    });\n    return AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, ' ');\n  };\n\n  const onClickLogout = () => {\n    dispatch(logout());\n    navigate(RoutesHelper.getLoginRoute());\n  };\n\n  return (\n    <div className=\"editor-toolbar-container\">\n      <div>\n        <label htmlFor=\"file\">\n          <BsImage className=\"editor-cursor\" />\n        </label>\n        <input\n          onChange={onChangeImage}\n          type=\"file\"\n          id=\"file\"\n          style={{ display: 'none' }}\n        />\n      </div>\n      <button onClick={onClickLogout} className=\"btn-logout\">\n        Logout\n      </button>\n    </div>\n  );\n};\nexport default Index;\n","import React, { useState } from 'react';\nimport { EditorState } from 'draft-js';\nimport Editor from '~src/routes/auth/note/editor/components/Index';\nimport './css/EditorStyles.scss';\nimport Toolbar from './components/Toolbar';\nimport { useSelector } from 'react-redux';\nimport { RootStateType } from '~src/RootReducer';\n\nconst SimpleImageEditor = ({}) => {\n  const currentNote = useSelector(\n    (state: RootStateType) => state.notesReducer.currentNote,\n  );\n\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty(),\n  );\n\n  const onChangeEditor = (editState: EditorState) => {\n    setEditorState(editState);\n  };\n\n  return (\n    <div className=\"editor-container\">\n      <div>\n        <Toolbar onChangeEditor={onChangeEditor} editorState={editorState} />\n      </div>\n      {currentNote && currentNote._id && (\n        <Editor\n          currentNote={currentNote}\n          onChangeEditor={onChangeEditor}\n          editorState={editorState}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default SimpleImageEditor;\n","import React from 'react';\nimport './css/note.scss';\nimport Notes from '~src/routes/auth/note/notes/Index';\nimport Editor from '~src/routes/auth/note/editor/Index';\n\nconst Index = () => {\n  return (\n    <>\n      <div className=\"app-wrap-note\">\n        <Notes />\n      </div>\n      <div className=\"app-wrap-editor\">\n        <Editor />\n      </div>\n    </>\n  );\n};\n\nexport default Index;\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport Note from '~src/routes/auth/note/Index';\nimport RoutesConstants from '~src/constants/routes';\n\nconst Index = () => {\n  return (\n    <Routes>\n      <Route path={RoutesConstants.AUTHENTICATE.NOTES} element={<Note />} />\n    </Routes>\n  );\n};\n\nexport default Index;\n","import React, { useEffect } from 'react';\nimport RoutesHelper from '~src/helpers/routes';\nimport { RootStateType } from '~src/RootReducer';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport Routes from './Index';\n\nconst Index = ({}) => {\n  const isLogged = useSelector(\n    (state: RootStateType) => state.loginReducer.isLogged,\n  );\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isLogged) {\n      return;\n    }\n    navigate(RoutesHelper.getLoginRoute());\n  }, []);\n\n  return isLogged ? <Routes /> : null;\n};\n\nexport default Index;\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport Login from '~src/routes/login/Middleware';\nimport RoutesConstants from '~src/constants/routes';\nimport AuthRoutes from '~src/routes/auth/Middleware';\n\nfunction Index() {\n  return (\n    <Routes>\n      <Route\n        path={`${RoutesConstants.AUTHENTICATE.PREFIX}/*`}\n        element={<AuthRoutes />}\n      />\n      <Route path={RoutesConstants.LOGIN} element={<Login />} />\n      <Route path={RoutesConstants.HOME} element={<Login />} />\n    </Routes>\n  );\n}\n\nexport default Index;\n"],"names":["LOGIN","AUTHENTICATE","PREFIX","NOTES","HOME","RoutesConstants","str","Crypto","EnvHelper","ConfigConstants","toString","dispatch","useDispatch","navigate","useNavigate","onSubmit","e","preventDefault","document","forms","user_name","password","userNameVal","value","passwordVal","passwordHash","CryptoHelper","login","data","error","alert","message","RoutesHelper","className","name","placeholder","required","type","isLogged","useSelector","state","loginReducer","useEffect","notes","notesReducer","currentNoteId","currentNote","_id","clsEmpty","length","onClick","deleteNote","NOTE_DEFAULT","createNote","item","text","created_at","title","updatedAt","updated_at","onClickItem","useCallback","selectNote","formatStr","substring","clsActive","getNotes","Toolbar","map","imagePlugin","createImagePlugin","HEADING","id","editorState","onChange","onChangeEditor","newState","getCurrentContent","equals","forceFirstLine","editState","firstBlockKey","getBlockMap","first","getKey","getSelection","getAnchorKey","RichUtils","plugins","content","EditorState","convertFromRaw","JSON","parse","apiCreateNote","debounce","getDataOfCreateNote","updateNote","currentContent","convertToRaw","blocks","stringify","Editor","getImage","cb","stopPropagation","target","files","file","getBase64","result","reader","FileReader","readAsDataURL","onload","onerror","insertImage","base64","contentStateWithEntity","createEntity","src","entityKey","getLastCreatedEntityKey","newEditorState","AtomicBlockUtils","htmlFor","style","display","logout","useState","setEditorState","path","element"],"sourceRoot":""}